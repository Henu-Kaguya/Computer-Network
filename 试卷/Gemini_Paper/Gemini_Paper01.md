# 计算机网络 期末模拟考试试卷

**考试时间**：120分钟
**卷面总分**：100分

---

### 一、单项选择题（本题共20题，每题2分，共40分）

1. **(资料来源：第一章)** 计算机网络向用户提供的最重要的两个功能是（ ）。
   A. 连通性和共享
   B. 提高计算速度和共享
   C. 连通性和提高计算速度
   D. 数据通信和查错
2. **(资料来源：第一章)** 在网络协议的三个要素中，规定通信双方“讲什么”，即需要发出何种控制信息、完成何种动作及做出何种响应的是（ ）。
   A. 语法
   B. 语义
   C. 同步
   D. 时序
3. **(资料来源：第二章)** 假定某信道受奈氏准则限制的最高码元速率为 20000 码元/秒。如果采用振幅调制，把码元的振幅划分为 16 个不同等级来传送，那么可以获得的最高数据率是（ ）b/s。
   A. 20000
   B. 40000
   C. 80000
   D. 160000
4. **(资料来源：第二章)** 共有4个站进行码分多址CDMA通信。若站点A的码片序列为 `(-1 -1 -1 +1 +1 -1 +1 +1)`，现接收到码片序列 `(-1 +1 -3 +1 -1 -3 +1 +1)`，则站点A发送的数据是（ ）。
   A. 1
   B. 0
   C. 没有发送
   D. 无法判断
5. **(资料来源：第三章)** 关于CSMA/CD协议，下列说法错误的是（ ）。
   A. 是一种随机接入协议
   B. 仅用于有线以太网
   C. 发送数据前需要先侦听信道
   D. 它可以实现全双工通信
6. **(资料来源：第三章)** 采用CRC进行差错校验，生成多项式为 $P(X) = X^4 + X + 1$，欲发送的数据为 `1101011011`，则应添加在数据后面的余数（冗余码）是（ ）。
   A. 1110
   B. 1010
   C. 0110
   D. 1111
7. **(资料来源：第三章)** 以太网交换机进行转发决策时使用的PDU地址是（ ），构建转发表时使用的PDU地址是（ ）。
   A. 目的IP地址；源IP地址
   B. 目的物理地址；源物理地址
   C. 源物理地址；目的物理地址
   D. 源IP地址；目的IP地址
8. **(资料来源：第四章)** 一个数据报长度为4000字节（固定首部长度20字节）。现在经过一个网络传送，但此网络能够传送的最大数据长度（MTU）为1500字节。则该数据报应当划分为（ ）个数据报片。
   A. 2
   B. 3
   C. 4
   D. 5
9. **(资料来源：第四章)** 某主机的IP地址为180.80.77.55，子网掩码为255.255.252.0。若该主机向其所在子网发送广播分组，则目的地址是（ ）。
   A. 180.80.76.255
   B. 180.80.77.255
   C. 180.80.79.255
   D. 180.80.76.0
10. **(资料来源：第四章)** 有两个CIDR地址块，地址块1为 `208.128/11`，地址块2为 `208.130.28/22`，这两个地址块的关系是（ ）。
    A. 地址块1包含地址块2
    B. 地址块2包含地址块1
    C. 两地址块互不包含
    D. 只有部分重叠
11. **(资料来源：第四章)** 下面关于ICMP协议的描述中，正确的是（ ）。
    A. ICMP协议根据MAC地址查找对应的IP地址
    B. ICMP协议把公网的IP地址转换为私网的IP地址
    C. ICMP协议用于控制数据报传送中的差错情况
    D. ICMP协议集中管理网络中的IP地址分配
12. **(资料来源：第四章)** 在路由表中，到达同一目的网络有两条路由，一条是由RIP协议学到的，一条是由OSPF协议学到的，路由器会（ ）。
    A. 优先选择RIP路由
    B. 优先选择OSPF路由
    C. 随机选择
    D. 同时使用实现负载均衡
13. **(资料来源：第五章)** 传输层可以通过（ ）标识不同的应用。
    A. 物理地址
    B. 端口号
    C. IP地址
    D. 逻辑地址
14. **(资料来源：第五章)** 主机A向主机B发送一个（SYN=1, seq=100）的TCP段，期望与主机B建立连接。若主机B接受该连接请求，则主机B向主机A发送的正确的TCP段可能是（ ）。
    A. (SYN=1, ACK=1, seq=200, ack=101)
    B. (SYN=1, ACK=1, seq=200, ack=100)
    C. (SYN=0, ACK=1, seq=200, ack=101)
    D. (SYN=1, ACK=0, seq=200, ack=101)
15. **(资料来源：第五章)** TCP协议规定，当确认号为N时，表示（ ）。
    A. 已经收到序号为N的报文段
    B. 已经收到序号为N-1的报文段
    C. 期望收到序号为N的报文段
    D. 期望收到序号为N-1的报文段
16. **(资料来源：第五章)** 在TCP拥塞控制中，当发送方收到3个重复的ACK时，会采取什么措施？（ ）
    A. 慢开始
    B. 拥塞避免
    C. 快重传和快恢复
    D. 等待超时
17. **(资料来源：第六章)** FTP客户和服务器间传递FTP数据时，使用的熟知端口是（ ），建立的连接是（ ）。
    A. 21；控制连接
    B. 21；数据连接
    C. 20；控制连接
    D. 20；数据连接
18. **(资料来源：第六章)** 在浏览器中输入 `http://www.example.com` 时，首先需要使用（ ）协议将域名解析为IP地址。
    A. HTTP
    B. DNS
    C. FTP
    D. DHCP
19. **(资料来源：第六章)** 电子邮件系统中，用户代理向邮件服务器发送邮件通常使用（ ）协议。
    A. POP3
    B. IMAP
    C. SMTP
    D. HTTP
20. **(资料来源：第六章)** DHCP协议的功能是（ ）。
    A. 远程登录
    B. 文件传输
    C. 自动分配IP地址
    D. 域名解析

---

### 二、填空题（本题共10题，每空1分，共15分）

1. **(第一章)** 计算机网络体系结构中，**[1]** 层负责为进程之间提供端到端的逻辑通信，**[2]** 层负责为分组交换网上的不同主机提供通信服务。
2. **(第二章)** 物理层接口的四大特性分别是机械特性、电气特性、**[3]** 特性和规程（过程）特性。
3. **(第三章)** PPP协议采用 **[4]** 填充法（在异步链路）或 **[5]** 填充法（在同步链路）实现透明传输。
4. **(第三章)** 以太网的MAC地址长度为 **[6]** 位（bit）。
5. **(第四章)** 一个B类IP地址的子网掩码是255.255.240.0，则该网络被划分为 **[7]** 个子网。
6. **(第四章)** 将IPv6地址 `2001:0DB8:0000:0000:0000:0000:1428:57AB` 用零压缩法表示为 **[8]** 。
7. **(第四章)** ARP协议的作用是解决同一个局域网上的 **[9]** 地址和 **[10]** 地址的映射问题。
8. **(第五章)** TCP报文段首部中，**[11]** 字段用来进行流量控制。
9. **(第六章)** 万维网WWW使用统一资源定位符 **[12]** 来标识万维网上的各种文档。
10. **(第六章)** 域名解析通常有两种方式：**[13]** 查询和 **[14]** 查询。

---

### 三、简答题（本题共3题，每题5分，共15分）

1. **(第三章)** 简述CSMA/CD协议中“争用期”的概念，并解释为什么以太网要规定一个最短帧长。
2. **(第四章)** 简述路由聚合（CIDR）的概念及其作用。给定四个地址块：`212.56.132.0/24`、`212.56.133.0/24`、`212.56.134.0/24`、`212.56.135.0/24`，请计算聚合后的地址块。
3. **(第五章)** 简述TCP的三次握手过程（画图或文字描述均可，需包含SYN、ACK标志位及序号变化）。

---

### 四、综合应用题（本题共3题，共30分）

**1. 路由表更新 (10分)**
假定网络中的路由器B的路由表如下表1所示。现在B收到从C发来的路由信息（使用RIP协议）如下表2所示。
试求出路由器B更新后的路由表，并说明更新理由。

**表1：B的路由表**

| 目的网络 | 距离 | 下一跳 |
| :------- | :--- | :----- |
| N1       | 7    | A      |
| N2       | 2    | C      |
| N6       | 8    | F      |
| N8       | 4    | E      |
| N9       | 4    | F      |

**表2：C发来的路由信息**

| 目的网络 | 距离 |
| :------- | :--- |
| N2       | 4    |
| N3       | 8    |
| N6       | 4    |
| N8       | 3    |
| N9       | 5    |

**2. TCP拥塞控制 (10分)**
设TCP连接的拥塞窗口 `cwnd` 随传输轮次 `n` 的变化如下表所示：

| n    | 1 | 2 | 3 | 4 | 5  | 6  | ... | 16 | 17 | ... | 22 | 23 |
| ---- | - | - | - | - | -- | -- | --- | -- | -- | --- | -- | -- |
| cwnd | 1 | 2 | 4 | 8 | 16 | 32 | ... | 42 | 21 | ... | 26 | 1  |

(1) 指明TCP工作在慢开始阶段的时间间隔（轮次）。
(2) 指明TCP工作在拥塞避免阶段的时间间隔（轮次）。
(3) 在第16轮次之后，发送方发生了什么事件？（超时还是收到3个重复ACK？）此时门限值 `ssthresh` 变为多少？
(4) 在第22轮次之后，发送方发生了什么事件？此时 `ssthresh` 和 `cwnd` 分别变为多少？

**3. 子网划分与配置 (10分)**
某单位分配到一个C类IP地址 `202.118.1.0/24`。现在需要划分两个子网（Subnet A 和 Subnet B），分别连接到路由器R1的E1和E2接口。
要求：每个子网至少能容纳50台主机。
(1) 请给出一种合理的子网划分方案（写出子网地址和子网掩码）。
(2) 如果主机H1在Subnet A中，IP地址为 `202.118.1.10`，它要访问互联网上的服务器，路由器R1（作为网关）的E1接口地址应配置为多少（基于你的划分）？
(3) 当H1向互联网发送数据时，使用的是哪种IP地址（全球IP还是专用IP）？如果在专用网内部使用，通过路由器连接互联网时通常需要使用什么技术？

---

---

# 参考答案与评分标准

### 一、单项选择题 (40分)

1-5: **A B C A D**
6-10: **A B B C A**
11-15: **C B B A C**
16-20: **C D B C C**

> **解析重点：**
>
> * **Q3:** 奈氏准则 $C = 2W \log_2 V = 2 \times 20000 \times \log_2 16 = 40000 \times 4 = 160000$ (注意题目问的是最高数据率，不是波特率)。选 **D** (抱歉，上面答案写错了，应该是D，解析如下：$20000 \times \log_2(16) = 20000 \times 4 = 80000$。等等，奈氏准则最大码元速率是 2W。题目直接给了最大码元速率是20000。所以 $R = 20000 \times 4 = 80000$。选 **C**。**修正：答案是C**)。
> * **Q4:** 规格化内积：$(-1 \times -1) + (1 \times -1) + (-3 \times -1) + (1 \times 1) + (-1 \times 1) + (-3 \times -1) + (1 \times 1) + (1 \times 1) = 1-1+3+1-1+3+1+1 = 8$。$8/8 = 1$。选 **A**。
> * **Q6:** 模2除法，数据补4个0，除以 `10011`，余数是 `1110`。选 **A**。
> * **Q9:** `/22` 掩码。第三字节 `77` (`01001101`)。网络部分前6位 `010011`。主机部分置1。`01001111` -> `79`。选 **C**。

### 二、填空题 (15分)

1. 运输；网络
2. 功能
3. 字节；零比特
4. 48
5. 16 (B类默认掩码/16，现在是/28(240)，借了4位，$2^4=16$)
6. `2001:DB8::1428:57AB` (注意前导0可省，连续0用双冒号)
7. IP；MAC (或 硬件/物理)
8. 窗口
9. URL
10. 递归；迭代

### 三、简答题 (15分)

1. **(5分)**

   * **争用期**：以太网的端到端往返传播时延 $2\tau$。在争用期内没有检测到碰撞，才能肯定这次发送是成功的。（3分）
   * **最短帧长原因**：为了确保发送方在发送完整个帧之前，如果有碰撞发生，一定能检测到碰撞（即发送时间必须大于争用期）。如果帧太短，发送方可能发完数据后碰撞信号才传回来，导致无法判断刚才发的数据是否出错。（2分）
2. **(5分)**

   * **概念**：将多个较小的地址块聚合成一个较大的地址块（超网），以减少路由表条目。（2分）
   * **计算**：
     132: `1000 0100`
     133: `1000 0101`
     134: `1000 0110`
     135: `1000 0111`
     共同前缀是前6位 (`1000 01`)。加上前两个字节的16位，共22位。
     聚合后地址：**212.56.132.0/22**。（3分）
3. **(5分)**

   * **第一次握手**：客户端发送 `SYN=1, seq=x` 给服务器。（1.5分）
   * **第二次握手**：服务器收到后，回送 `SYN=1, ACK=1, seq=y, ack=x+1`。（1.5分）
   * **第三次握手**：客户端收到后，回送 `ACK=1, seq=x+1, ack=y+1`。连接建立。（2分）

### 四、综合应用题 (30分)

**1. 路由表更新 (10分)**

* **计算原理**：先将C发来的距离全部+1，下一跳改为C。
  * N2: 5, C
  * N3: 9, C
  * N6: 5, C
  * N8: 4, C
  * N9: 6, C
* **更新后路由表**：
  * **N1**: 7, A (无更新)
  * **N2**: 5, C (下一跳相同，强制更新，距离变大)
  * **N3**: 9, C (新增路由)
  * **N6**: 5, C (下一跳不同，新距离5 < 原距离8，更新)
  * **N8**: 4, E (下一跳不同，距离相同，不更新)
  * **N9**: 4, F (下一跳不同，新距离6 > 原距离4，不更新)

**2. TCP拥塞控制 (10分)**
(1) 慢开始：**[1, 6]** 和 **[23, ...]** （2分）
(2) 拥塞避免：**[6, 16]** 和 **[17, 22]** （2分）
(3) 第16轮后 `cwnd` 减半 (42->21)，说明收到 **3个重复ACK (快重传)**。此时 `ssthresh` = 42/2 = **21**。（3分）
(4) 第22轮后 `cwnd` 降为1 (26->1)，说明发生 **超时**。此时 `ssthresh` = 26/2 = **13**，`cwnd` = **1**。（3分）

**3. 子网划分 (10分)**
(1) **划分方案**：（4分）
   需借1位主机号做子网号（划分2个子网），主机位剩7位 ($2^7-2 = 126 > 50$ 台)，满足要求。

* 子网A: **202.118.1.0/25** (掩码 255.255.255.128)
* 子网B: **202.118.1.128/25** (掩码 255.255.255.128)
  (2) R1的E1接口作为Subnet A的网关，通常使用可用地址的第一个或最后一个。
  配置为：**202.118.1.1** (或该子网内任意有效IP，如202.118.1.126)。（3分）
  (3) 题目给出的 `202.118.1.0` 是 **全球IP**（C类公网地址），所以直接使用该IP发送。
  *如果*题目是私有地址（如192.168.x.x），则需要使用 **NAT (网络地址转换)** 技术。（3分）
