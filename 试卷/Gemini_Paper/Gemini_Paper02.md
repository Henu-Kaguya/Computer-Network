# 《计算机网络》期末模拟试卷

**考试时间：120分钟  满分：100分**

### 一、单项选择题（每题 2 分，共 30 分）

1. 在计算机网络核心部分，数据交换主要采用的是哪种技术？该技术的主要优点是什么？
A. 电路交换；实时性强
B. 报文交换；无需建立连接
C. 分组交换；高效、灵活、迅速
D. 报文交换；存储转发
2. 若某通信链路的带宽为 4kHz，信噪比为 30dB，根据香农公式，该链路的理论极限传输速率约为？
A. 40 kbps
B. 30 kbps
C. 80 kbps
D. 20 kbps
3. 在 CSMA/CD 协议中，若一个 10Mb/s 的以太网，信号在介质中的传播速率为  m/s，当网段长度为 1km 时，该协议要求的最小帧长是？
A. 64 bit
B. 100 bit
C. 512 bit
D. 1250 Byte
4. 数据链路层协议 PPP 在异步传输时，若信息字段中出现比特串 `01111110`（0x7E），为了实现透明传输，需要采用什么方法？
A. 零比特填充法
B. 字节填充法
C. 曼彻斯特编码
D. 差分曼彻斯特编码
5. 以下关于 MAC 地址和 IP 地址的描述，错误的是？
A. MAC 地址工作在数据链路层，IP 地址工作在网络层
B. 路由器在转发分组时，源 IP 地址和目的 IP 地址通常保持不变（非 NAT 情况）
C. 路由器在转发分组时，源 MAC 地址和目的 MAC 地址会逐跳改变
D. MAC 地址是逻辑地址，IP 地址是物理地址
6. 一个 C 类网络 `192.168.1.0`，若子网掩码设置为 `255.255.255.192`，则该网络被划分为了几个子网？每个子网可用的主机数是多少？
A. 2 个子网，126 台主机
B. 4 个子网，62 台主机
C. 8 个子网，30 台主机
D. 4 个子网，64 台主机
7. 在 TCP/IP 协议栈中，PING 命令使用的是哪一层协议？
A. 应用层 HTTP
B. 运输层 TCP
C. 网络层 ICMP
D. 网络层 ARP
8. 关于 RIP 协议和 OSPF 协议，下列说法正确的是？
A. RIP 基于链路状态算法，OSPF 基于距离向量算法
B. RIP 仅和相邻路由器交换信息，OSPF 向本自治系统所有路由器发送信息
C. RIP 使用 IP 数据报传送，OSPF 使用 UDP 数据报传送
D. RIP 适合大型网络，OSPF 适合小型网络
9. 某主机接收到的 IP 数据报首部中，标志字段（Flags）的 MF=1，片偏移字段为 185（十进制），假设首部长度为 20 字节。则该数据报片携带的数据在原 IP 数据报中的起始位置是？
A. 185 字节
B. 1480 字节
C. 2960 字节
D. 3700 字节
10. 在 TCP 连接建立的“三次握手”过程中，第二次握手（服务器响应客户端）发送的报文段标志位是？
A. SYN=1, ACK=0
B. SYN=1, ACK=1
C. FIN=1, ACK=1
D. SYN=0, ACK=1
11. TCP 的拥塞控制算法中，当出现“收到 3 个重复确认”时，发送方会执行什么算法？
A. 慢开始 (Slow Start)
B. 拥塞避免 (Congestion Avoidance)
C. 快重传和快恢复 (Fast Retransmit & Fast Recovery)
D. 超时重传 (Timeout)
12. 下列哪个协议用于解决“已知 IP 地址求硬件地址”的问题？
A. DNS
B. DHCP
C. RARP
D. ARP
13. 电子邮件系统中，用于用户代理（User Agent）向邮件服务器发送邮件的协议是？
A. POP3
B. IMAP
C. SMTP
D. HTTP
14. 在 HTTP/1.1 中，默认使用什么方式来提高传输效率？
A. 非持久连接
B. 持久连接 (Keep-Alive)
C. UDP 传输
D. 带外数据传输
15. 100BASE-T 以太网标准中，“T”代表使用的传输介质是？
A. 同轴电缆
B. 光纤
C. 双绞线
D. 无线电波

---

### 二、填空题（每空 2 分，共 20 分）

1. 网络协议的三要素是：语法、**[1]** 和 同步。
2. 在数据链路层，为了检测传输差错，通常采用 **[2]** 检验技术，将计算出的 FCS 添加在数据后面。
3. 一个 UDP 用户数据报的首部大小是 **[3]** 字节。
4. 若主机 A 的 IP 地址是 `202.118.1.5`，子网掩码是 `255.255.255.224`，则该主机所在的网络地址是 **[4]**。
5. 在 TCP 传输中，若接收窗口 rwnd=4000，拥塞窗口 cwnd=3000，则发送方的发送窗口 swnd 应取值为 **[5]**。
6. IPv6 地址长度为 **[6]** 位。
7. 以太网交换机是一种工作在 **[7]** 层（填“物理”、“数据链路”或“网络”）的网络设备，它根据帧中的 **[8]** 地址进行转发。
8. DHCP 协议的作用是 **[9]**，它工作在应用层，底层使用 **[10]** 协议传输（填“TCP”或“UDP”）。

---

### 三、简答与计算题（每题 10 分，共 30 分）

1. **（CRC计算）** 要发送的数据为 `1101011011`。采用 CRC 的生成多项式是 。
(1) 写出生成多项式对应的二进制除数。
(2) 计算应添加在数据后面的检验序列（余数）。（请写出计算过程）
2. **（路由表更新）** 路由器 B 收到其邻居路由器 C 的路由信息（RIP协议）。
* B 的原路由表：
| 目的网络 | 距离 | 下一跳 |
| :------- | :--- | :----- |
| N1       | 7    | A      |
| N2       | 2    | C      |
| N6       | 8    | F      |
| N8       | 4    | E      |
| N9       | 4    | F      |
* C 发来的路由信息（目的网络, 距离）：
(N2, 4), (N3, 8), (N6, 4), (N8, 3), (N9, 5)


**问题：** 请写出路由器 B 更新后的路由表，并简要说明对 N6 和 N8 网络更新或不更新的理由。
3. **（TCP拥塞控制）** 设 TCP 的 ssthresh（慢开始门限）初始值为 16（单位为报文段）。当拥塞窗口 cwnd 上升到 24 时，网络发生了**超时**。
(1) 此时 ssthresh 和 cwnd 应设置为多少？
(2) 之后系统进入什么阶段？（慢开始 或 拥塞避免）
(3) 若在 cwnd=24 时收到的是**3个重复确认**而不是超时，ssthresh 和 cwnd 应设置为多少？

---

### 四、综合分析题（共 20 分）

**场景描述：**
某单位分配到一个 C 类 IP 地址块 `202.118.1.0/24`。该单位有 2 个局域网（LAN1 和 LAN2），需要通过路由器 R1 连接。

* LAN1 需要容纳 100 台主机。
* LAN2 需要容纳 50 台主机。
* 路由器 R1 的接口 E1 连接 LAN1，接口 E2 连接 LAN2。

**问题：**

1. **（子网划分）** 请给出一种满足上述要求的子网划分方案。写出 LAN1 和 LAN2 的**子网地址**和**子网掩码**。
2. **（路由配置）** 写出路由器 R1 的路由表中，到达 LAN1 和 LAN2 的路由项。（格式：目的网络 | 子网掩码 | 下一跳/接口）
3. **（ARP解析）** 若 LAN1 中的主机 A (IP: 202.118.1.2) 要向 LAN2 中的主机 B (IP: 202.118.1.130) 发送 IP 数据报：
(a) 主机 A 在发送前会查找谁的 MAC 地址？（主机 B 还是 路由器接口 E1？）
(b) 该 IP 数据报经过路由器 R1 转发后，数据报首部中的**源 IP 地址**和**目的 IP 地址**是否会发生变化？（假设不涉及 NAT）

---

---

### 参考答案

#### 一、单项选择题

1. **C** （核心网络多采用分组交换，特点是高效、灵活。）
2. **A** （香农公式：。。）
3. **B** （最短帧长 = 往返时延  数据率。往返时延 。长度 。）
4. **B** （异步传输 PPP 使用字节填充，同步传输使用零比特填充。）
5. **D** （MAC 是物理地址/硬件地址，IP 是逻辑地址。）
6. **B** （掩码 192 是 `11000000`，借了 2 位主机位做子网位，子网数 。主机位剩 6 位，可用主机数 。）
7. **C** （PING 使用 ICMP 回送请求和回答报文。）
8. **B** （RIP 仅和邻居交互，OSPF 向全网洪泛。）
9. **B** （片偏移单位是 8 字节。 字节。）
10. **B** （SYN=1, ACK=1 是第二次握手特征。）
11. **C** （3 个重复确认触发快重传。）
12. **D** （ARP：IP  MAC。）
13. **C** （用户发邮件、邮件服务器之间互传都用 SMTP。）
14. **B** （HTTP/1.1 默认 Keep-Alive。）
15. **C** （T 代表 Twisted Pair 双绞线。）

#### 二、填空题

1. 语义
2. CRC (循环冗余)
3. 8
4. 202.118.1.0 （224 是 `11100000`，5 是 `00000101`，与运算后为 0）
5. 3000 （发送窗口 = ）
6. 128
7. 数据链路；目的 MAC (或 目的物理)
8. 动态分配 IP 地址 (或 自动配置网络参数)；UDP

#### 三、简答与计算题

1. **(1)** 生成多项式  对应二进制：`10011`
**(2)** 数据 `1101011011` 后补 4 个 0  `11010110110000`。
进行模 2 除法（异或运算）：`11010110110000` / `10011`
余数为 **`1110`**。
2. **更新后的路由表：**
| 目的网络 | 距离 | 下一跳 |
| :------- | :--- | :----- |
| N1       | 7    | A      |
| N2       | 5    | C      |
| N3       | 9    | C      |
| N6       | 5    | C      |
| N8       | 4    | E      |
| N9       | 4    | F      |
**理由：**
* **N6**：原走 F 距离 8。经 C 距离为 。，**更新**（距离变短）。
* **N8**：原走 E 距离 4。经 C 距离为 。距离相等但下一跳不同，**不更新**。


3. **(1)** 超时发生：ssthresh = cwnd / 2 = 24 / 2 = **12**； cwnd = **1**。
**(2)** **慢开始**阶段。
**(3)** 3 个重复确认（快重传）：ssthresh = cwnd / 2 = **12**； cwnd = ssthresh + 3 = **15** (或设为 ssthresh=12，根据具体教材版本，通常执行快恢复)。

#### 四、综合分析题

1. **子网划分方案**（VLSM 或 等长划分均可，这里用最简单的划分）：
* 因为 LAN1 需 100 台，LAN2 需 50 台，/25（128个地址）和 /26（64个地址）分别足够。为方便，可将 C 类地址一分为二。
* **LAN1**: `202.118.1.0`, 掩码 `255.255.255.128` (/25) —— 可用范围 .1-.126
* **LAN2**: `202.118.1.128`, 掩码 `255.255.255.128` (/25) —— 可用范围 .129-.254
*(注：LAN2 也可以划分为 /26，只要不重叠即可)*


2. **R1 路由表：**
* `202.118.1.0` | `255.255.255.128` | 接口 E1 (直接连接)
* `202.118.1.128` | `255.255.255.128` | 接口 E2 (直接连接)


3. **(a)** 查找 **路由器接口 E1** 的 MAC 地址。（因为目的 IP 在不同网段，需要发给默认网关）
**(b)** **不会发生变化**。（路由器转发只改变 MAC 帧首部的源/目的 MAC 地址，不改变 IP 数据报首部的源/目的 IP 地址）。