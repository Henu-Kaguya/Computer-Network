# 第六章 应用层

### 6.1 填空题

互联网采用了 [填空1] 结构的命名方法。并使用 [填空2] 式的域名系统 DNS。域名系统 DNS 只能进行域名到 IP 地址的解析吗？ [填空3] (是、否)

**答案**：**层次（或 层次树状）；分布；否**

> **解析：**
>
> * 互联网采用**层次树状 (Hierarchical)** 命名空间（如 .com）。
> * DNS 系统是**分布式 (Distributed)** 数据库系统，没有一台机器存储所有域名信息。
> * DNS 不仅解析域名到 IP（A记录），还可以查询邮件服务器别名（MX记录）、主机别名（CNAME记录）等，因此填**否**。

---

### 6.2 单选题

以下哪种类型的域名服务器又称为默认域名服务器

**答案**：**D**

> **解析：**
>
> * **本地域名服务器 (Local Name Server)**：当一个主机发出 DNS 查询请求时，这个查询请求报文首先是发送给本地域名服务器的。因此，本地域名服务器也称为**默认域名服务器**。
> * 根域名服务器、顶级域名服务器和权限域名服务器是 DNS 层次结构中的高层服务器，用于在本地解析失败时进行迭代或递归查询。

---

### 6.3 填空题

当主机进行域名查询时，主机向本地域名服务器的查询一般都是采用 [填空1] 查询方式，本地域名服务器向根域名服务器的查询通常是采用 [填空2] 查询方式。

**答案**：**递归；迭代**

> **解析：**
>
> * **主机  本地域名服务器**：采用**递归查询 (Recursive Query)**。即“你（本地服务器）帮我查，我只要结果”。如果本地服务器不知道，它负责去问别人，最后把结果回传给主机。
> * **本地域名服务器  根域名服务器**：采用**迭代查询 (Iterative Query)**。即“你（根服务器）告诉我下一步该问谁”，根服务器不负责帮本地服务器跑腿，只返回下一级服务器的地址（如 .com 服务器），让本地服务器自己去问。

---

### 6.4 填空题

在进行文件传输时，FTP 的客户进程先与服务器进程之间建立 TCP 连接，即 [填空1] 连接，服务器进程熟知端口号为 [填空2]。接着，服务器进程与客户进程所提供的端口号建立 [填空3] 连接，此时服务器进程的熟知端口号为 [填空4]。

**答案**：**控制；21；数据；20**

> **解析：**
> FTP 使用两个并行的 TCP 连接：
>
> 1. **控制连接 (Control Connection)**：用于传输命令和响应（如登录、目录变更）。服务器端使用熟知端口 **21**。该连接在整个会话期间保持打开。
> 2. **数据连接 (Data Connection)**：用于实际传输文件内容。在**主动模式**（Port Mode）下，服务器使用熟知端口 **20** 主动连接客户端的数据端口。

---

### 6.5 多选题

一个资源的 URL 表示为 http://www.ctrip.com:80/index.htm 以下选项中，哪些是其省略后的有效表示

* A. http://www.ctrip.com:80
* B. http://www.ctrip.com
* C. www.ctrip.com
* D. ctrip.com

**答案**：**A, B**

> **解析：**
> URL 的标准格式为 `协议://主机:端口/路径`。
>
> * **端口省略**：HTTP 协议的默认端口是 **80**，可以省略。
> * **路径省略**：如果访问的是根目录下的默认文件（如 `index.htm` 或 `index.html`），路径通常可以省略（或仅保留 `/`）。
>
> 选项分析：
>
> * **A** `http://www.ctrip.com:80`：省略了文件名，指向默认主页，有效。
> * **B** `http://www.ctrip.com`：省略了端口和文件名，指向默认主页，有效。
> * C `www.ctrip.com` 和 D `ctrip.com`：虽然在现代浏览器地址栏输入后会自动跳转，但从严格定义上讲，它们是**域名**，缺少 URL 必须的**协议部分**（scheme，即 `http://`），因此不是标准的 URL 表示。

---

### 6.6 单选题

某浏览器发出的 HTTP 请求报文如下：

```
GET /index.html HTTP/1.1
Host: www.test.edu.cn
Connection: Close
Cookie: 123456
```

下列叙述中，错误的是

* A. 该浏览器请求浏览 index.html
* B. Host 字段指明了资源所在的主机
* C. Connection 字段表示使用持续连接
* D. Cookie 字段是浏览器发送给服务器的身份标识

**答案**：**C**

> **解析：**
>
> * 报文内容：`GET /index.html HTTP/1.1`，`Host: www.test.edu.cn`，`Connection: Close`，`Cookie: 123456`。
> * A 正确：`GET /index.html` 表示请求浏览 `index.html`。
> * B 正确：`Host` 字段指明了资源所在的主机。
> * **C 错误**：报文中 `Connection: Close` 明确表示使用**非持续连接**（Non-persistent），即服务器发送完响应后会立即关闭 TCP 连接。如果是持续连接，应为 `Keep-Alive`。
> * D 正确：`Cookie: 123456` 是浏览器发送给服务器的，说明之前浏览器访问过该网站，服务器给它颁发过 Cookie，现在浏览器再次访问时带上了这个身份标识。

---

### 6.7 多选题

一台连接到互联网的主机，至少要进行以下哪些配置。

* A. 物理地址
* B. IP 地址
* C. 默认网关
* D. 域名服务器

**答案**：**B, C, D**

> **解析：**
> 要使主机能正常访问互联网（浏览网页等），通常需要配置 IP 四要素中的三个（MAC通常是固化的）：
>
> * **B. IP 地址**：主机的唯一标识。
> * **C. 默认网关**：用于将数据包发送到本网段之外（即访问互联网）。
> * **D. 域名服务器 (DNS)**：用于将网址（域名）解析为 IP 地址。
> * A. 物理地址 (MAC) 是网卡出厂时烧录的，通常不需要用户手动配置。
